{% extends 'base.html' %}

{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'schedule/style.css' %}">
{% endblock %}

{% block content %}

<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{% static 'schedule/style.css' %}">
  <title>Document</title>
</head>
<body> -->
<div class="schedule_box">
  <h2 class="title_month">{{today.month}}월</h2>
  <!-- <h2 >{{thatday.day}}월</h2> -->
  <div id="whattime">{{schedule.time}}</div>
  <div class="calendar_form">
    <table>
      <thead>
        <tr>
          <th onClick="location.href='changeschedule/';" style="cursor:pointer;">
            월요일
          </th>
          <th>
            화요일
          </th>
          <th>
            수요일
          </th>
          <th>
            목요일
          </th>
          <th>
            금요일
          </th>
          <th>
            토요일
          </th>
          <th>
            일요일
          </th>
        </tr>
      </thead>
      <tbody>
        <script>
      let lastday = new Date(2022, 03, 0).getDate();
  
          // lastday += 1;
          var firstday = 3;
          let full_thisday = new Date(2022,03,01);
          // document.write("<div>"+full_thisday+"</div>");
          var todayschedule;
          
  
  
          var thisday = full_thisday.getDate();
          // document.write("<div>"+thisday+"</div>");
          // document.write("<div>"+lastday+"</div>");
          var f = Number(thisday);
          var ff = thisday < 10;
          var num_thisday = 0;
          var not_thisday = 0;
          // document.write(""+ff+"");
          
          
  
          var thisday = 1;
          let text = "일정";
          let result = text.link("/changeschedule");
          document.write("<tr>");
          
          for(var j=0; j<7; j++){
            document.write("<td>");

            if(firstday == j){
              document.write(""+thisday+"일")
              document.write("<br>");
              todayschedule = document.getElementById('whattime').innerText;
              todayschedule_text = todayschedule+'시'
              year = full_thisday.getFullYear()
          month = full_thisday.getMonth()
          day = full_thisday.getDate()
          total = year +'-'+month+'-'+day
          url_link = 'changeschedule/' + total
              todayschedule_text = todayschedule_text.link(url_link);
              document.write(todayschedule_text);
              full_thisday.setDate(full_thisday.getDate() + 1);
              thisday = full_thisday.getDate();
            }else if(firstday < j){
              document.write(""+thisday+"일")
              document.write("<br>");
              todayschedule = document.getElementById('whattime').innerText;
              todayschedule_text = todayschedule+'시'
              year = full_thisday.getFullYear()
          month = full_thisday.getMonth()
          day = full_thisday.getDate()
          total = year +'-'+month+'-'+day
          url_link = 'changeschedule/' + total
              todayschedule_text = todayschedule_text.link(url_link);
              document.write(todayschedule_text);          
              full_thisday.setDate(full_thisday.getDate() + 1);
              thisday = full_thisday.getDate();
            }else{
              document.write("<span></span>");
            }
            document.write("</td>");
            }
          document.write("</tr>");
  
  
          for(var i=0; thisday<lastday; i++){
            // document.write("<div>"+thisday+"</div>");
            // document.write("<div>"+full_thisday+"</div>");
            // document.write("<div>"+num_thisday+"</div>");
            document.write("<tr>");
            var cc = num_thisday > lastday;
            // document.write(""+cc+"");
  
            for(var c=0; c<7; c++){
              if(num_thisday < lastday){
                document.write("<td>");
                document.write(""+thisday+"일");
                document.write("<br>");
                todayschedule = document.getElementById('whattime').innerText;
                todayschedule_text = todayschedule+'시'
                year = full_thisday.getFullYear()
          month = full_thisday.getMonth()
          day = full_thisday.getDate()
          total = year +'-'+month+'-'+day
          url_link = 'changeschedule/' + total
              todayschedule_text = todayschedule_text.link(url_link);
                document.write(todayschedule_text);
                full_thisday.setDate(full_thisday.getDate() + 1);
                not_thisday = full_thisday.getDate(); 
                thisday += 1;
                num_thisday = Number(not_thisday); 
                document.write("</td>");
              }else{break;}
            }
            document.write("</tr>");  
          }
          // document.write(thisday);  
          // document.write(lastday);  
  
        </script>
      </tbody>
      
    </table>
  </div>
</div> 

  
  <!-- <a href="/changeschedule">변경</a> -->
  <!-- {{s}} -->
  <!-- <div style="width: 40%;
    border: 1px solid black;
    background-color: lightcyan;
    font-family: Helvetica, sans-serif;">
        <div style="margin: 5%;">
            <h1>
                <u>Dictionary Data</u>
            </h1>
            <h2>
                <u>All Data</u>
            </h2>
            <h4 id='alldata'></h4><br>
            <h2>
                <u>Neat Data</u>
            </h2>
            <h4 id='neatdata'></h4>
        </div>
  </div> -->
<!-- </body>
</html> -->
<!-- <script>
  var data = JSON.parse("{{data|escapejs}}");
  var dataNode = document.getElementById('alldata');
  dataNode.innerHTML+="{{data|escapejs}}";
  dataNode = document.getElementById('neatdata');
  for(var x in data){
      dataNode.innerHTML+=x+' : '+data[x]+'<br><br>';
  }
</script> -->
{% endblock %}